#include <iostream>
#include <vector>

using namespace std;

typedef vector<int> vi;
typedef vector<vi> vvi;

vvi g;
vi dp;

int main(){
  ios_base::sync_with_stdio(false);
  int n, m;
  cin >> n >> m;
  g = vvi(n);
  dp = vi(n, 1);
  while(m-->0){
    int a, b;
    cin >> a >> b;
    g[a].push_back(b);
    g[b].push_back(a);
  }
  for(int v = 0; v < g.size(); v++){
    for(int u = 0; u < g[v].size(); u++){
      if( g[v][u] < v ){
	dp[v] = max(dp[v], dp[u] + 1);
      }
    }
  }
  long long maxB = 0;
  for(int i = 0; i < dp.size(); i++){
    maxB = max(maxB, dp[i] * g[i].size());
  }
  
  return 0;
}
